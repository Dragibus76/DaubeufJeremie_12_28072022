{"ast":null,"code":"var _jsxFileName = \"/Users/dragibus/Downloads/sportSee-main/src/hooks/useData.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { REQUEST_URL, USERID } from \"../services/variables\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nexport const useData = () => {\n  _s();\n  return useContext(DataContext);\n};\n\n// This component fetch all app data and dispatch it in all childrens components using the React hook \" useContext \"\n// To retrieve data in children component, call useData hook and bring constants you need\n// For more info about useContext, please check https://legacy.reactjs.org/docs/hooks-reference.html#usecontext\n_s(useData, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst DataContextProvider = props => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [userInfos, setUserInfos] = useState(null);\n  const [averageSession, setAverageSession] = useState(null);\n  const [activity, setActivity] = useState(null);\n  const [perf, setPerf] = useState(null);\n  useEffect(() => {\n    Axios.get(`${REQUEST_URL}${USERID}`).then(res => {\n      const data = res.data.data;\n      setUser({\n        id: data.id,\n        ...data.userInfos\n      });\n      setUserInfos({\n        todayScore: data.todayScore,\n        ...data.keyData\n      });\n    }).catch(err => console.error(\"error: \", err));\n    Axios.get(`${REQUEST_URL}${USERID}/average-sessions`).then(res => {\n      const data = res.data.data;\n      setAverageSession(data.sessions);\n    }).catch(err => console.error(\"error: \", err));\n    Axios.get(`${REQUEST_URL}${USERID}/performance`).then(async res => {\n      const data = res.data.data;\n      let tmp = await Promise.all(data.data.map(el => {\n        return {\n          value: el.value,\n          name: data.kind[el.kind]\n        };\n      }));\n      setPerf(tmp);\n    }).catch(err => console.error(\"error: \", err));\n    Axios.get(`${REQUEST_URL}${USERID}/activity`).then(async res => {\n      const data = res.data.data.sessions;\n      let tmp = await Promise.all(data.map(el => {\n        return {\n          ...el\n        };\n      }));\n      setActivity(tmp);\n    }).catch(err => console.error(\"error: \", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      user,\n      userInfos,\n      averageSession,\n      perf,\n      activity\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s2(DataContextProvider, \"beL7tfX60JVEQRKGbmp3Pm2zlVg=\");\n_c = DataContextProvider;\nexport default DataContextProvider;\nvar _c;\n$RefreshReg$(_c, \"DataContextProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","Axios","REQUEST_URL","USERID","jsxDEV","_jsxDEV","DataContext","useData","_s","DataContextProvider","props","_s2","user","setUser","userInfos","setUserInfos","averageSession","setAverageSession","activity","setActivity","perf","setPerf","get","then","res","data","id","todayScore","keyData","catch","err","console","error","sessions","tmp","Promise","all","map","el","value","name","kind","Provider","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/dragibus/Downloads/sportSee-main/src/hooks/useData.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { REQUEST_URL, USERID } from \"../services/variables\";\n\nexport const DataContext = createContext();\nexport const useData = () => useContext(DataContext);\n\n// This component fetch all app data and dispatch it in all childrens components using the React hook \" useContext \"\n// To retrieve data in children component, call useData hook and bring constants you need\n// For more info about useContext, please check https://legacy.reactjs.org/docs/hooks-reference.html#usecontext\n\nconst DataContextProvider = (props) => {\n  const [user, setUser] = useState(null);\n  const [userInfos, setUserInfos] = useState(null);\n  const [averageSession, setAverageSession] = useState(null);\n  const [activity, setActivity] = useState(null);\n  const [perf, setPerf] = useState(null);\n\n  useEffect(() => {\n    Axios.get(`${REQUEST_URL}${USERID}`)\n      .then((res) => {\n        const data = res.data.data;\n        setUser({\n          id: data.id,\n          ...data.userInfos,\n        });\n        setUserInfos({\n          todayScore: data.todayScore,\n          ...data.keyData,\n        });\n      })\n      .catch((err) => console.error(\"error: \", err));\n\n    Axios.get(`${REQUEST_URL}${USERID}/average-sessions`)\n      .then((res) => {\n        const data = res.data.data;\n        setAverageSession(data.sessions);\n      })\n      .catch((err) => console.error(\"error: \", err));\n\n    Axios.get(`${REQUEST_URL}${USERID}/performance`)\n      .then(async (res) => {\n        const data = res.data.data;\n        let tmp = await Promise.all(\n          data.data.map((el) => {\n            return {\n              value: el.value,\n              name: data.kind[el.kind],\n            };\n          })\n        );\n        setPerf(tmp);\n      })\n      .catch((err) => console.error(\"error: \", err));\n\n    Axios.get(`${REQUEST_URL}${USERID}/activity`)\n      .then(async (res) => {\n        const data = res.data.data.sessions;\n        let tmp = await Promise.all(\n          data.map((el) => {\n            return {\n              ...el,\n            };\n          })\n        );\n        setActivity(tmp);\n      })\n      .catch((err) => console.error(\"error: \", err));\n  }, []);\n\n  return (\n    <DataContext.Provider\n      value={{\n        user,\n        userInfos,\n        averageSession,\n        perf,\n        activity,\n      }}\n    >\n      {props.children}\n    </DataContext.Provider>\n  );\n};\n\nexport default DataContextProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}